<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Management Quiz Infographic</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f4f7fa;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }
    </style>
</head>
<body class="text-[#0B2D48]">

    <div class="container mx-auto p-4 md:p-8">
        
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-6xl font-black text-[#0B2D48] mb-2">Quiz Breakdown: The Essentials</h1>
            <p class="text-lg md:text-xl text-[#3498DB] max-w-3xl mx-auto">A quick guide to the key concepts tested in the project management quiz, categorizing questions by topic and type.</p>
        </header>

        <section class="mb-16">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <div class="text-6xl font-black text-[#9B59B6] mb-2">10</div>
                    <div class="text-lg font-bold">Questions</div>
                    <p class="text-sm text-gray-600">Testing a comprehensive range of topics.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg md:col-span-2">
                    <h2 class="text-2xl font-bold mb-4">Core Concepts</h2>
                    <p class="text-sm text-gray-600">The quiz is split into three main areas to ensure a balanced test of knowledge.</p>
                    <div class="grid grid-cols-3 gap-4 mt-4">
                        <div class="flex flex-col items-center">
                            <div class="w-12 h-12 bg-[#3498DB] rounded-full"></div>
                            <span class="mt-2 text-sm font-bold">Leadership & People</span>
                        </div>
                        <div class="flex flex-col items-center">
                            <div class="w-12 h-12 bg-[#F1C40F] rounded-full"></div>
                            <span class="mt-2 text-sm font-bold">Planning & Analysis</span>
                        </div>
                        <div class="flex flex-col items-center">
                            <div class="w-12 h-12 bg-[#E74C3C] rounded-full"></div>
                            <span class="mt-2 text-sm font-bold">Methodologies & Control</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="grid grid-cols-1 md:grid-cols-2 gap-12 mb-16 items-center">
            <div class="bg-white p-6 rounded-lg shadow-lg">
                <h2 class="text-2xl font-bold text-center mb-4">Question Distribution by Topic</h2>
                <p class="text-sm text-gray-600 text-center mb-4">The quiz focuses on key topic areas from the training, ensuring a balanced assessment of knowledge across the curriculum.</p>
                <div class="chart-container">
                    <canvas id="topicsChart"></canvas>
                </div>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-lg">
                <h2 class="text-2xl font-bold text-center mb-4">Question Types</h2>
                <p class="text-sm text-gray-600 text-center mb-4">Questions are categorized to test different forms of understanding, from conceptual knowledge to applying tools and comparing ideas.</p>
                <div class="chart-container">
                    <canvas id="typeChart"></canvas>
                </div>
            </div>
        </section>

        <section class="bg-white p-6 md:p-10 rounded-lg shadow-lg mb-16">
            <h2 class="text-3xl font-bold text-center mb-8">Questions Breakdown</h2>
            <div id="questions-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="bg-[#f4f7fa] p-4 rounded-lg border-l-4 border-[#3498DB]">
                    <p class="font-bold mb-2">1. Leading vs. Managing</p>
                    <p class="text-sm text-gray-600">Topic: Leadership</p>
                    <button class="mt-4 px-4 py-2 bg-[#F1C40F] text-white font-bold rounded-full text-xs hover:bg-[#E6B30E] transition-colors duration-300 get-explanation-btn" data-topic="Leading vs. Managing">✨ Dive Deeper ✨</button>
                    <div class="explanation-container mt-4 hidden text-sm text-[#0B2D48]"></div>
                </div>
                <div class="bg-[#f4f7fa] p-4 rounded-lg border-l-4 border-[#F1C40F]">
                    <p class="font-bold mb-2">2. Systems Thinking</p>
                    <p class="text-sm text-gray-600">Topic: Planning</p>
                    <button class="mt-4 px-4 py-2 bg-[#F1C40F] text-white font-bold rounded-full text-xs hover:bg-[#E6B30E] transition-colors duration-300 get-explanation-btn" data-topic="Systems Thinking">✨ Dive Deeper ✨</button>
                    <div class="explanation-container mt-4 hidden text-sm text-[#0B2D48]"></div>
                </div>
                <div class="bg-[#f4f7fa] p-4 rounded-lg border-l-4 border-[#F1C40F]">
                    <p class="font-bold mb-2">3. Problem Tree Analysis</p>
                    <p class="text-sm text-gray-600">Topic: Analysis</p>
                    <button class="mt-4 px-4 py-2 bg-[#F1C40F] text-white font-bold rounded-full text-xs hover:bg-[#E6B30E] transition-colors duration-300 get-explanation-btn" data-topic="Problem Tree Analysis">✨ Dive Deeper ✨</button>
                    <div class="explanation-container mt-4 hidden text-sm text-[#0B2D48]"></div>
                </div>
                <div class="bg-[#f4f7fa] p-4 rounded-lg border-l-4 border-[#F1C40F]">
                    <p class="font-bold mb-2">4. Stakeholder Analysis</p>
                    <p class="text-sm text-gray-600">Topic: Analysis</p>
                    <button class="mt-4 px-4 py-2 bg-[#F1C40F] text-white font-bold rounded-full text-xs hover:bg-[#E6B30E] transition-colors duration-300 get-explanation-btn" data-topic="Stakeholder Analysis">✨ Dive Deeper ✨</button>
                    <div class="explanation-container mt-4 hidden text-sm text-[#0B2D48]"></div>
                </div>
                <div class="bg-[#f4f7fa] p-4 rounded-lg border-l-4 border-[#E74C3C]">
                    <p class="font-bold mb-2">5. Theory of Change vs. Logic Framework</p>
                    <p class="text-sm text-gray-600">Topic: Methodologies</p>
                    <button class="mt-4 px-4 py-2 bg-[#F1C40F] text-white font-bold rounded-full text-xs hover:bg-[#E6B30E] transition-colors duration-300 get-explanation-btn" data-topic="Theory of Change vs. Logic Framework">✨ Dive Deeper ✨</button>
                    <div class="explanation-container mt-4 hidden text-sm text-[#0B2D48]"></div>
                </div>
                <div class="bg-[#f4f7fa] p-4 rounded-lg border-l-4 border-[#E74C3C]">
                    <p class="font-bold mb-2">6. PM Cycle</p>
                    <p class="text-sm text-gray-600">Topic: Methodologies</p>
                    <button class="mt-4 px-4 py-2 bg-[#F1C40F] text-white font-bold rounded-full text-xs hover:bg-[#E6B30E] transition-colors duration-300 get-explanation-btn" data-topic="PM Cycle">✨ Dive Deeper ✨</button>
                    <div class="explanation-container mt-4 hidden text-sm text-[#0B2D48]"></div>
                </div>
                <div class="bg-[#f4f7fa] p-4 rounded-lg border-l-4 border-[#3498DB]">
                    <p class="font-bold mb-2">7. Change Management</p>
                    <p class="text-sm text-gray-600">Topic: Leadership</p>
                    <button class="mt-4 px-4 py-2 bg-[#F1C40F] text-white font-bold rounded-full text-xs hover:bg-[#E6B30E] transition-colors duration-300 get-explanation-btn" data-topic="Change Management">✨ Dive Deeper ✨</button>
                    <div class="explanation-container mt-4 hidden text-sm text-[#0B2D48]"></div>
                </div>
                <div class="bg-[#f4f7fa] p-4 rounded-lg border-l-4 border-[#E74C3C]">
                    <p class="font-bold mb-2">8. Project Control</p>
                    <p class="text-sm text-gray-600">Topic: Control</p>
                    <button class="mt-4 px-4 py-2 bg-[#F1C40F] text-white font-bold rounded-full text-xs hover:bg-[#E6B30E] transition-colors duration-300 get-explanation-btn" data-topic="Project Control">✨ Dive Deeper ✨</button>
                    <div class="explanation-container mt-4 hidden text-sm text-[#0B2D48]"></div>
                </div>
                <div class="bg-[#f4f7fa] p-4 rounded-lg border-l-4 border-[#3498DB]">
                    <p class="font-bold mb-2">9. Coaching for Leaders</p>
                    <p class="text-sm text-gray-600">Topic: Leadership</p>
                    <button class="mt-4 px-4 py-2 bg-[#F1C40F] text-white font-bold rounded-full text-xs hover:bg-[#E6B30E] transition-colors duration-300 get-explanation-btn" data-topic="Coaching for Leaders">✨ Dive Deeper ✨</button>
                    <div class="explanation-container mt-4 hidden text-sm text-[#0B2D48]"></div>
                </div>
                <div class="bg-[#f4f7fa] p-4 rounded-lg border-l-4 border-[#F1C40F]">
                    <p class="font-bold mb-2">10. Design Thinking</p>
                    <p class="text-sm text-gray-600">Topic: Analysis</p>
                    <button class="mt-4 px-4 py-2 bg-[#F1C40F] text-white font-bold rounded-full text-xs hover:bg-[#E6B30E] transition-colors duration-300 get-explanation-btn" data-topic="Design Thinking">✨ Dive Deeper ✨</button>
                    <div class="explanation-container mt-4 hidden text-sm text-[#0B2D48]"></div>
                </div>
            </div>
        </section>

        <footer class="text-center mt-12 py-6 border-t border-[#3498DB]/20">
            <p class="text-lg font-bold text-[#0B2D48]">Visualize. Review. Master.</p>
            <p class="text-sm text-gray-600">Use this infographic to quickly review the core ideas before or after your lecture.</p>
        </footer>

    </div>

    <script>
        function wrapLabel(label, maxLength) {
            if (label.length <= maxLength) {
                return label;
            }
            const words = label.split(' ');
            const lines = [];
            let currentLine = '';
            for (const word of words) {
                if ((currentLine + ' ' + word).trim().length > maxLength) {
                    lines.push(currentLine.trim());
                    currentLine = word;
                } else {
                    currentLine = (currentLine + ' ' + word).trim();
                }
            }
            if (currentLine) {
                lines.push(currentLine.trim());
            }
            return lines;
        }

        const tooltipTitleCallback = function(tooltipItems) {
            const item = tooltipItems[0];
            let label = item.chart.data.labels[item.dataIndex];
            if (Array.isArray(label)) {
                return label.join(' ');
            } else {
                return label;
            }
        };
        
        const palette = ['#3498DB', '#F1C40F', '#E74C3C', '#9B59B6', '#0B2D48'];

        const topicsCtx = document.getElementById('topicsChart').getContext('2d');
        const topicsData = {
            labels: [
                wrapLabel('Leadership & People', 16),
                wrapLabel('Planning & Analysis', 16),
                wrapLabel('Methodologies & Control', 16)
            ],
            datasets: [{
                label: 'Number of Questions',
                data: [3, 4, 3],
                backgroundColor: ['#3498DB', '#F1C40F', '#E74C3C'],
                borderColor: '#ffffff',
                borderWidth: 2
            }]
        };
        new Chart(topicsCtx, {
            type: 'bar',
            data: topicsData,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        callbacks: {
                            title: tooltipTitleCallback
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                         ticks: {
                            stepSize: 1
                        }
                    }
                }
            }
        });
        
        const typeCtx = document.getElementById('typeChart').getContext('2d');
        const typeData = {
            labels: ['Conceptual Knowledge', 'Analytical Tools', 'Comparative Understanding'],
            datasets: [{
                data: [6, 3, 1],
                backgroundColor: ['#9B59B6', '#E74C3C', '#3498DB'],
                hoverOffset: 4,
                borderColor: '#ffffff',
                borderWidth: 4,
            }]
        };
        new Chart(typeCtx, {
            type: 'doughnut',
            data: typeData,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                    },
                    tooltip: {
                        callbacks: {
                           title: tooltipTitleCallback,
                           label: function(context) {
                                let label = context.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed !== null) {
                                    label += context.parsed;
                                }
                                return label;
                            }
                        }
                    }
                },
                cutout: '60%'
            }
        });

        document.querySelectorAll('.get-explanation-btn').forEach(button => {
            button.addEventListener('click', async (event) => {
                const topic = event.target.getAttribute('data-topic');
                const explanationContainer = event.target.nextElementSibling;

                if (!topic) {
                    explanationContainer.textContent = 'Topic not found.';
                    explanationContainer.classList.remove('hidden');
                    return;
                }

                explanationContainer.innerHTML = '<div class="flex items-center justify-center mt-4"><div class="animate-spin rounded-full h-8 w-8 border-4 border-[#3498DB] border-t-transparent"></div></div>';
                explanationContainer.classList.remove('hidden');
                
                const systemPrompt = "You are a concise but detailed expert on project management topics. Provide a clear and helpful explanation of the given concept. Do not use markdown, lists, or headings.";
                const userQuery = `Explain the project management concept of: ${topic}.`;

                const payload = {
                    contents: [{ parts: [{ text: userQuery }] }],
                    systemInstruction: { parts: [{ text: systemPrompt }] },
                    tools: [{ "google_search": {} }],
                };
                
                const apiKey = "";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    
                    const result = await response.json();
                    const text = result.candidates?.[0]?.content?.parts?.[0]?.text;
                    
                    if (text) {
                        explanationContainer.textContent = text;
                    } else {
                        explanationContainer.textContent = 'Sorry, something went wrong. Please try again.';
                    }
                } catch (error) {
                    console.error('Error fetching API response:', error);
                    explanationContainer.textContent = 'An error occurred. Please check the console for details.';
                }
            });
        });
    </script>
</body>
</html>


